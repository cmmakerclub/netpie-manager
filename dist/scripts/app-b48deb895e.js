!function(){"use strict";angular.module("netpieManager",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ja.qr","ui.router","ngMaterial","ngStorage"])}(),function(){"use strict";function e(){function e(e){var t=this;t.relativeDate=e(t.creationDate).fromNow()}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["moment"],t}angular.module("netpieManager").directive("acmeNavbar",e)}(),function(){"use strict";function e(e,t,n,a,i,o,d,c){function r(){e(function(){l.classAnimation="rubberBand"},4e3)}var l=this;l.classAnimation="",r(),l.clear=function(){a.debug("Wipe the data. Reloading.."),d.$reset({}),i.location.reload()};var m="netpie_manager",s=d.$default({netpie_manager:{netpie:{}},netpieApp:[]}),u=s[m];c.config=u.netpie,c.latest_device=u.latest_device,c.device_count=u.devices&&u.devices.length||0,c.tabs=u.devices,c.openMenu=function(){e(function(){o("left").open()})};var p=document.querySelector("[role='main']");c.focusMainContent=function(t){t&&t.preventDefault(),e(function(){p.focus()},90)},c.loadDevices=function(){return c.devices=u.devices,u.devices},l.generate=function(){var e="https://netpie-api.herokuapp.com/api/";e+=c.config.netpie.appKey+"/",e+=c.config.netpie.appSecret+"/",e+=c.config.netpie.appId,e+="?callback=JSON_CALLBACK",c.loading=!0,n.jsonp(e).success(function(e){var t=c.config.netpie.appId;delete e.protocolVersion,delete e.keepalive,e.appId=c.config.netpie.appId,e.appKey=c.config.netpie.appKey,e.appSecret=c.config.netpie.appSecret,e.prefix="/"+t+"/gearname",u.latest_device=e;var n=u.devices||[];n.push(e),a.debug(n),u.devices=n,c.device_count=n.length,c.latest_device=u.latest_device,c.loading=!1,c.failed=!1}).error(function(){a.debug("FAILED"),u.latest_device={},c.loading=!1,c.failed=!0,c.appError="Failed: "+arguments[1]+" "+arguments[0]})}}angular.module("netpieManager").controller("MainController",e),e.$inject=["$timeout","toastr","$http","$log","$window","$mdSidenav","$localStorage","$scope"]}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("netpieManager").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}angular.module("netpieManager").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("netpieManager").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0}angular.module("netpieManager").config(e),e.$inject=["$logProvider","toastr"]}(),angular.module("netpieManager").run(["$templateCache",function(e){e.put("app/main/main.html",'<div layout="column" layout-sm="column"><md-content layout-padding=""><header><acme-navbar creationdate="main.creationDate"></acme-navbar></header></md-content><md-content md-theme="docs-dark" layout="row" layout-sm="column"><md-content flex="" md-dynamic-height=""><md-card><md-toolbar layout-align="center center">Detail ({{device_count}})</md-toolbar><md-progress-circular md-mode="indeterminate" ng-show="loading"></md-progress-circular><md-content class="md-padding"><md-tabs md-selected="selectedIndex" md-border-bottom="" md-autoselect="" md-dynamic-height=""><md-tab ng-repeat="tab in tabs" ng-disabled="tab.disabled" label="{{tab.clientId}}"><div class="demo-tab tab{{$index%4}}" style="padding: 25px; text-align: left;"><md-card-content layout="column" md-dynamic-height="" ng-hide="loading" ng-show="!failed"><md-list class="a" aria-expanded="false"><md-content layout="column" class="md-padding"><div>#define MQTT_HOST "{{tab.host}}"</div><div>#define MQTT_USERNAME "{{tab.username}}"</div><div>#define MQTT_PASSWORD "{{tab.password}}"</div><div>#define MQTT_CLIENT_ID "{{tab.clientId}}"</div><div>#define MQTT_PREFIX "{{tab.prefix}}"</div><div>TARGET "{{tab.target_device}}"</div><div><qr text="tab | json"></qr></div><div layout="column" layout-align="center center" style="height: 100px;"><md-select placeholder="Who you want to hear?" ng-model="tab.target_device" ng-change="" md-on-open="loadDevices()" style="min-width: 200px;"><md-option ng-value="device.clientId" ng-repeat="device in devices">nickname - {{device.clientId}}</md-option></md-select><div></div></div></md-content><md-subheader class="md-no-sticky">DATA</md-subheader><md-list-item class="md-2-line" ng-repeat="(key, value) in latest_device"><div class="md-list-item-text" layout="column"><h3>{{ key }}</h3><p>{{ value }}</p></div></md-list-item></md-list></md-card-content><br></div></md-tab></md-tabs></md-content><h1>{{ appError }}</h1></md-card></md-content><md-content flex=""><md-card><md-toolbar layout-align="center center">NETPIE</md-toolbar><md-card-content><md-input-container><label>appKey</label> <input ng-model="config.netpie.appKey"></md-input-container><md-input-container><label>appSecret</label> <input ng-model="config.netpie.appSecret"></md-input-container><md-input-container><label>appId</label> <input ng-model="config.netpie.appId"></md-input-container><md-input-container><md-button class="md-raised md-hue-5" ng-click="main.generate()">Generate</md-button></md-input-container><md-input-container><md-button class="md-raised md-warn" ng-click="main.clear()">Clear</md-button></md-input-container></md-card-content></md-card></md-content></md-content></div>'),e.put("app/components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="center center"><md-button href="https://cmmakerclub.com">CMMAKERCLUB.COM</md-button><section flex="" layout="row" layout-align="left center"><md-button href="#" class="md-raised">Home</md-button><md-button href="#" class="md-raised">About</md-button></section><md-button class="acme-navbar-text">NETPIE AUTH MANAGER</md-button></md-toolbar>')}]);